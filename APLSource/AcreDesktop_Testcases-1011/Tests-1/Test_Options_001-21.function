 R←Test_Options_001(stopFlag batchFlag);⎕TRAP;result;list
⍝ Test setting "messages"
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')

 R←∆Failed

 #.⎕SHADOW'AcreMessages'
 #.AcreMessages←''
 #.⎕SHADOW'AcreFunctionResult'
 'AcreFunctionResult'#.⎕NS''
 #.AcreFunctionResult.Buffer←''

 {}∆RunUcmd'Projects -messages=''#.AcreMessages'''
 →PassesIf 0∊⍴#.AcreMessages            ⍝ Nothing to tell
 #.AcreMessages←''

 {}∆RunUcmd'Stats -messages=''#.AcreMessages'''
 →PassesIf~0∊⍴#.AcreMessages            ⍝ Should be syntax hint (project is missing)

 #.AcreFunctionResult.⎕FX'Collect←{' 'Buffer,←⊂⍵' '⍬' '}'
 {}∆RunUcmd'Projects -messages=''#.AcreFunctionResult.Collect'''
 →PassesIf 0∊⍴#.AcreFunctionResult.Buffer
 {}∆RunUcmd'Stats -messages=''#.AcreFunctionResult.Collect'''
 →PassesIf~0∊⍴#.AcreFunctionResult.Buffer

 R←∆OK

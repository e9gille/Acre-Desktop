 validItems←{
⍝ also needs to remove refs and items whose parents are refs
     {⍵(/⍨)(1∘ssp⍱ref)uniq sPath¨⍵}(⊢(/⍨)0∘ssp<ref<⎕NC∊validAPLType),∘⊂if≡⍵

     ref←(UT.df∘⍎≢⊢)¨ ⋄ scr←1∘ssp ⋄ nsc←0∘ssp
     {⍵(/⍨)(ref⍱scr)uniq sPath¨⍵}(⊢(/⍨)nsc<⎕NC∊validAPLType),∘⊂if≡⍵

     {⍵(/⍨)~1 ssp uniq sPath¨⍵}(⊢(/⍨)0∘ssp<⎕NC∊validAPLType),∘⊂if≡⍵
⍝ no labels, derived fns, container spaces, instances or script members
⍝ Phil 2018-02-18 21.26
 }
